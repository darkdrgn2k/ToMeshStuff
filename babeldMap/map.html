<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Cache-Control" content="no-cache" />
      <meta http-equiv="refresh" content="0; URL=/cgi-bin/luci/" />
   </head>
   <body style="background-color: white">
      <a style="color: black; font-family: arial, helvetica, sans-serif;" href="/cgi-bin/luci/">LuCI - Lua Configuration Interface</a>
   </body>
</html>
root@NODE152-206:/www# cat map.html 
<html>
   <head>
      <script type="text/javascript" src="vis.min.js"></script>
      <link href="vis.min.css" rel="stylesheet" type="text/css" />
      <style type="text/css">
         #mynetwork {
         width: 100%;
         height: 100%;
         border: 1px solid lightgray;
         }
      </style>
   </head>
   <body>
      <div id="mynetwork"></div>
      <script>
         function LoadXMLDoc() {
           var xmlhttp = new XMLHttpRequest();
           xmlhttp.onreadystatechange = function() {
             if (this.readyState == 4 && this.status == 200) {
               Map(this);
             }
           };
           xmlhttp.open("GET", "/cgi-bin/vis", true);
           xmlhttp.send();
         }
         
         
           nodesArray=[{id: 0, label: 'Me'}];
           edgesArray = [];
         
           nodes = new vis.DataSet(nodesArray);
           edges = new vis.DataSet(edgesArray);
         
           var container = document.getElementById('mynetwork');
           var data = {
               nodes: nodes,
               edges: edges
           };
           var options = {};
           network= new vis.Network(container, data, options);
         
         
         
         function Map(ajax) {
           var Nodes;
           var NodeExist=Array();
           str=ajax.response;
           Nodes=JSON.parse(str);
         
         
           for (var i in Nodes.interface) {
               node=Nodes.interface[i];
               nodes.add({id:i, label:i, color:'#cccccc' });
               edges.add({id:i, from: i, to: 0});
         
           }
           for (var i in Nodes.neighbour) {
               var addr=i;
               node=Nodes.neighbour[i];
               nodes.add({id:node.ip, label:node.ip, color:'#ccffff'});
               edges.add({id:node.ip, from: node.ip, to: node.if});
         
           }
         
           for (var i in Nodes.route) {
               node=Nodes.route[i];
               if (node.installed=='yes') {
                 nodes.add({id:i, label:node.target, color:'#ffccff' });
                 edges.add({id:i, from: node.ip, to: i});
               }
           }
         
         }
         LoadXMLDoc();
      </script>
   </body>
</html>
